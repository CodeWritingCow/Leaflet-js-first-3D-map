function findLocation(){userMap.locate({setView:!0,maxZoom:5})}function onLocationFound(t){L.marker(t.latlng).addTo(markers),markers.addTo(userMap)}function resetLocation(){markers.clearLayers(),userMap.flyTo(worldCenter,1)}function onLocationError(t){alert(t.message),userMap.flyTo(worldCenter,1)}var CartoDB_DarkMatterNoLabels=L.tileLayer("http://{s}.basemaps.cartocdn.com/dark_nolabels/{z}/{x}/{y}.png",{attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> &copy; <a href="http://cartodb.com/attributions">CartoDB</a>',subdomains:"abcd"}),CartoDB_PositronNoLabels=L.tileLayer("http://{s}.basemaps.cartocdn.com/light_nolabels/{z}/{x}/{y}.png",{attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> &copy; <a href="http://cartodb.com/attributions">CartoDB</a>',subdomains:"abcd"}),NASAGIBS_ViirsEarthAtNight2012=L.tileLayer("http://map1.vis.earthdata.nasa.gov/wmts-webmerc/VIIRS_CityLights_2012/default/{time}/{tilematrixset}{maxZoom}/{z}/{y}/{x}.{format}",{attribution:"NASA",bounds:[[-85.0511287776,-179.999999975],[85.0511287776,179.999999975]],minZoom:1,maxZoom:8,format:"jpg",time:"",tilematrixset:"GoogleMapsCompatible_Level"}),baseMaps={"NASA: Night":NASAGIBS_ViirsEarthAtNight2012,"CartoDB: Dark Matter":CartoDB_DarkMatterNoLabels,"CartoDB: Positron":CartoDB_PositronNoLabels},worldCenter=[30,31],userMap=L.map("userMap",{center:worldCenter,zoom:1,layers:[NASAGIBS_ViirsEarthAtNight2012]}),markers=new L.LayerGroup;L.control.layers(baseMaps).addTo(userMap),userMap.on("locationfound",onLocationFound),userMap.on("locationerror",onLocationError);